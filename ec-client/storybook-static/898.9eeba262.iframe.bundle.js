"use strict";(self.webpackChunkec_client=self.webpackChunkec_client||[]).push([[898],{"./src/contexts/CartContext.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_$:()=>useCart});var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,auth_templateObject,auth_templateObject2,auth_templateObject3,_updateUser,_register,_login,objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),regeneratorRuntime=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),react=__webpack_require__("./node_modules/react/index.js"),useQuery=__webpack_require__("./node_modules/@apollo/client/react/hooks/useQuery.js"),useMutation=__webpack_require__("./node_modules/@apollo/client/react/hooks/useMutation.js"),taggedTemplateLiteral=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),lib=__webpack_require__("./node_modules/graphql-tag/lib/index.js"),GET_CART=(0,lib.J1)(_templateObject||(_templateObject=(0,taggedTemplateLiteral.A)(["\n  query GetCart {\n    cart {\n      id\n      items {\n        id\n        product {\n          id\n          name\n          price\n          images\n        }\n        quantity\n      }\n    }\n  }\n"]))),ADD_TO_CART=(0,lib.J1)(_templateObject2||(_templateObject2=(0,taggedTemplateLiteral.A)(["\n  mutation AddToCart($productId: ID!, $quantity: Int!) {\n    addToCart(productId: $productId, quantity: $quantity) {\n      id\n      product {\n        id\n        name\n        price\n        images\n      }\n      quantity\n    }\n  }\n"]))),UPDATE_CART_ITEM=(0,lib.J1)(_templateObject3||(_templateObject3=(0,taggedTemplateLiteral.A)(["\n  mutation UpdateCartItem($id: ID!, $quantity: Int!) {\n    updateCartItem(id: $id, quantity: $quantity) {\n      id\n      product {\n        id\n        name\n        price\n        images\n      }\n      quantity\n    }\n  }\n"]))),REMOVE_FROM_CART=(0,lib.J1)(_templateObject4||(_templateObject4=(0,taggedTemplateLiteral.A)(["\n  mutation RemoveFromCart($id: ID!) {\n    removeFromCart(id: $id)\n  }\n"]))),CLEAR_CART=(0,lib.J1)(_templateObject5||(_templateObject5=(0,taggedTemplateLiteral.A)(["\n  mutation ClearCart {\n    clearCart\n  }\n"]))),AuthContext=(__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),(0,lib.J1)(auth_templateObject||(auth_templateObject=(0,taggedTemplateLiteral.A)(["\n  mutation Register($input: RegisterInput!) {\n    register(input: $input) {\n      token\n      user {\n        id\n        email\n        firstName\n        lastName\n        role\n      }\n    }\n  }\n"]))),(0,lib.J1)(auth_templateObject2||(auth_templateObject2=(0,taggedTemplateLiteral.A)(["\n  mutation Login($input: LoginInput!) {\n    login(input: $input) {\n      token\n      user {\n        id\n        email\n        firstName\n        lastName\n        role\n      }\n    }\n  }\n"]))),(0,lib.J1)(auth_templateObject3||(auth_templateObject3=(0,taggedTemplateLiteral.A)(["\n  mutation UpdateUser($input: UpdateUserInput!) {\n    updateUser(input: $input) {\n      id\n      email\n      firstName\n      lastName\n    }\n  }\n"]))),(0,react.createContext)({user:null,token:null,isAuthenticated:!1,isLoading:!0,login:(_login=(0,asyncToGenerator.A)((0,regeneratorRuntime.A)().mark((function _callee(){return(0,regeneratorRuntime.A)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:case"end":return _context.stop()}}),_callee)}))),function login(){return _login.apply(this,arguments)}),register:(_register=(0,asyncToGenerator.A)((0,regeneratorRuntime.A)().mark((function _callee2(){return(0,regeneratorRuntime.A)().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:case"end":return _context2.stop()}}),_callee2)}))),function register(){return _register.apply(this,arguments)}),logout:function logout(){},updateUser:(_updateUser=(0,asyncToGenerator.A)((0,regeneratorRuntime.A)().mark((function _callee3(){return(0,regeneratorRuntime.A)().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:case"end":return _context3.stop()}}),_callee3)}))),function updateUser(){return _updateUser.apply(this,arguments)}),error:null,clearError:function clearError(){}}));var _clearCart,_removeFromCart,_updateCartItem,_addToCart,MOCK_CART={id:"cart1",items:[{id:"item1",quantity:1,product:{id:"1",name:"Wireless Headphones",description:"Premium wireless headphones with noise cancellation technology.",price:129.99,stock:15,images:["https://placehold.co/300x200/4a6cf7/FFFFFF/png?text=Headphones"]}},{id:"item2",quantity:2,product:{id:"3",name:"Bluetooth Speaker",description:"Portable Bluetooth speaker with 360° sound and waterproof design.",price:79.99,stock:20,images:["https://placehold.co/300x200/4a6cf7/FFFFFF/png?text=Speaker"]}}]},CartContext=(0,react.createContext)({cart:null,isLoading:!1,error:null,addToCart:(_addToCart=(0,asyncToGenerator.A)((0,regeneratorRuntime.A)().mark((function _callee(){return(0,regeneratorRuntime.A)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:case"end":return _context.stop()}}),_callee)}))),function addToCart(){return _addToCart.apply(this,arguments)}),updateCartItem:(_updateCartItem=(0,asyncToGenerator.A)((0,regeneratorRuntime.A)().mark((function _callee2(){return(0,regeneratorRuntime.A)().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:case"end":return _context2.stop()}}),_callee2)}))),function updateCartItem(){return _updateCartItem.apply(this,arguments)}),removeFromCart:(_removeFromCart=(0,asyncToGenerator.A)((0,regeneratorRuntime.A)().mark((function _callee3(){return(0,regeneratorRuntime.A)().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:case"end":return _context3.stop()}}),_callee3)}))),function removeFromCart(){return _removeFromCart.apply(this,arguments)}),clearCart:(_clearCart=(0,asyncToGenerator.A)((0,regeneratorRuntime.A)().mark((function _callee4(){return(0,regeneratorRuntime.A)().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:case"end":return _context4.stop()}}),_callee4)}))),function clearCart(){return _clearCart.apply(this,arguments)}),totalItems:0,subtotal:0}),useCart=function useCart(){return(0,react.useContext)(CartContext)};(function CartProvider(_ref){var children=_ref.children,_useState=(0,react.useState)(null),_useState2=(0,slicedToArray.A)(_useState,2),cart=_useState2[0],setCart=_useState2[1],_useState3=(0,react.useState)(null),_useState4=(0,slicedToArray.A)(_useState3,2),error=_useState4[0],setError=_useState4[1],_useState5=(0,react.useState)(!0),_useState6=(0,slicedToArray.A)(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1],isAuthenticated=function useAuth(){return(0,react.useContext)(AuthContext)}().isAuthenticated,_useQuery=(0,useQuery.IT)(GET_CART,{skip:!isAuthenticated||!1,fetchPolicy:"network-only"}),data=_useQuery.data,refetch=_useQuery.refetch,_useMutation=(0,useMutation.n)(ADD_TO_CART),addToCartMutation=(0,slicedToArray.A)(_useMutation,1)[0],_useMutation3=(0,useMutation.n)(UPDATE_CART_ITEM),updateCartItemMutation=(0,slicedToArray.A)(_useMutation3,1)[0],_useMutation5=(0,useMutation.n)(REMOVE_FROM_CART),removeFromCartMutation=(0,slicedToArray.A)(_useMutation5,1)[0],_useMutation7=(0,useMutation.n)(CLEAR_CART),clearCartMutation=(0,slicedToArray.A)(_useMutation7,1)[0];(0,react.useEffect)((function(){var getCartData=function(){var _ref2=(0,asyncToGenerator.A)((0,regeneratorRuntime.A)().mark((function _callee5(){return(0,regeneratorRuntime.A)().wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:setIsLoading(!0),_context5.prev=1,_context5.next=8;break;case 5:setCart(MOCK_CART),_context5.next=9;break;case 8:null!=data&&data.cart&&setCart(data.cart);case 9:_context5.next=14;break;case 11:_context5.prev=11,_context5.t0=_context5.catch(1),setError(_context5.t0.message||"Failed to load cart data");case 14:return _context5.prev=14,setIsLoading(!1),_context5.finish(14);case 17:case"end":return _context5.stop()}}),_callee5,null,[[1,11,14,17]])})));return function getCartData(){return _ref2.apply(this,arguments)}}();getCartData()}),[data]);var totalItems=(null==cart?void 0:cart.items.reduce((function(total,item){return total+item.quantity}),0))||0,subtotal=(null==cart?void 0:cart.items.reduce((function(total,item){return total+item.product.price*item.quantity}),0))||0,addToCart=function(){var _ref3=(0,asyncToGenerator.A)((0,regeneratorRuntime.A)().mark((function _callee6(productId,quantity){var product,updatedCart,existingItemIndex,newItemId;return(0,regeneratorRuntime.A)().wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:_context6.prev=0,setError(null),_context6.next=15;break;case 5:if(product={1:{id:"1",name:"Wireless Headphones",description:"Premium wireless headphones with noise cancellation technology.",price:129.99,stock:15,images:["https://placehold.co/300x200/4a6cf7/FFFFFF/png?text=Headphones"]},2:{id:"2",name:"Smart Watch",description:"Feature-packed smartwatch with health monitoring and notifications.",price:199.99,stock:8,images:["https://placehold.co/300x200/4a6cf7/FFFFFF/png?text=Smart+Watch"]},3:{id:"3",name:"Bluetooth Speaker",description:"Portable Bluetooth speaker with 360° sound and waterproof design.",price:79.99,stock:20,images:["https://placehold.co/300x200/4a6cf7/FFFFFF/png?text=Speaker"]},4:{id:"4",name:"Laptop Stand",description:"Ergonomic laptop stand with adjustable height and angle.",price:49.99,stock:25,images:["https://placehold.co/300x200/4a6cf7/FFFFFF/png?text=Laptop+Stand"]}}[productId]){_context6.next=9;break}throw new Error("Product not found");case 9:updatedCart=(0,objectSpread2.A)({},MOCK_CART),(existingItemIndex=updatedCart.items.findIndex((function(item){return item.product.id===productId})))>=0?updatedCart.items[existingItemIndex].quantity+=quantity:(newItemId="item".concat(updatedCart.items.length+1),updatedCart.items.push({id:newItemId,quantity,product})),setCart(updatedCart),_context6.next=17;break;case 15:return _context6.next=17,addToCartMutation({variables:{productId,quantity},update:function update(cache,_ref4){var data=_ref4.data;null!=data&&data.addToCart&&refetch()}});case 17:_context6.next=23;break;case 19:throw _context6.prev=19,_context6.t0=_context6.catch(0),setError(_context6.t0.message||"Failed to add item to cart"),_context6.t0;case 23:case"end":return _context6.stop()}}),_callee6,null,[[0,19]])})));return function addToCart(_x,_x2){return _ref3.apply(this,arguments)}}(),updateCartItem=function(){var _ref5=(0,asyncToGenerator.A)((0,regeneratorRuntime.A)().mark((function _callee7(itemId,quantity){var updatedCart,itemIndex;return(0,regeneratorRuntime.A)().wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:_context7.prev=0,setError(null),_context7.next=15;break;case 5:if(updatedCart=(0,objectSpread2.A)({},MOCK_CART),!((itemIndex=updatedCart.items.findIndex((function(item){return item.id===itemId})))>=0)){_context7.next=12;break}updatedCart.items[itemIndex].quantity=quantity,setCart(updatedCart),_context7.next=13;break;case 12:throw new Error("Cart item not found");case 13:_context7.next=17;break;case 15:return _context7.next=17,updateCartItemMutation({variables:{id:itemId,quantity},update:function update(){refetch()}});case 17:_context7.next=23;break;case 19:throw _context7.prev=19,_context7.t0=_context7.catch(0),setError(_context7.t0.message||"Failed to update cart item"),_context7.t0;case 23:case"end":return _context7.stop()}}),_callee7,null,[[0,19]])})));return function updateCartItem(_x3,_x4){return _ref5.apply(this,arguments)}}(),removeFromCart=function(){var _ref6=(0,asyncToGenerator.A)((0,regeneratorRuntime.A)().mark((function _callee8(itemId){var updatedCart,itemIndex;return(0,regeneratorRuntime.A)().wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:_context8.prev=0,setError(null),_context8.next=15;break;case 5:if(updatedCart=(0,objectSpread2.A)({},MOCK_CART),!((itemIndex=updatedCart.items.findIndex((function(item){return item.id===itemId})))>=0)){_context8.next=12;break}updatedCart.items.splice(itemIndex,1),setCart(updatedCart),_context8.next=13;break;case 12:throw new Error("Cart item not found");case 13:_context8.next=17;break;case 15:return _context8.next=17,removeFromCartMutation({variables:{id:itemId},update:function update(){refetch()}});case 17:_context8.next=23;break;case 19:throw _context8.prev=19,_context8.t0=_context8.catch(0),setError(_context8.t0.message||"Failed to remove item from cart"),_context8.t0;case 23:case"end":return _context8.stop()}}),_callee8,null,[[0,19]])})));return function removeFromCart(_x5){return _ref6.apply(this,arguments)}}(),clearCart=function(){var _ref7=(0,asyncToGenerator.A)((0,regeneratorRuntime.A)().mark((function _callee9(){var updatedCart;return(0,regeneratorRuntime.A)().wrap((function _callee9$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:_context9.prev=0,setError(null),_context9.next=9;break;case 5:updatedCart=(0,objectSpread2.A)((0,objectSpread2.A)({},MOCK_CART),{},{items:[]}),setCart(updatedCart),_context9.next=11;break;case 9:return _context9.next=11,clearCartMutation({update:function update(){refetch()}});case 11:_context9.next=17;break;case 13:throw _context9.prev=13,_context9.t0=_context9.catch(0),setError(_context9.t0.message||"Failed to clear cart"),_context9.t0;case 17:case"end":return _context9.stop()}}),_callee9,null,[[0,13]])})));return function clearCart(){return _ref7.apply(this,arguments)}}();return react.createElement(CartContext.Provider,{value:{cart,isLoading,error,addToCart,updateCartItem,removeFromCart,clearCart,totalItems,subtotal}},children)}).__docgenInfo={description:"",methods:[],displayName:"CartProvider",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}}},"./src/contexts/WishlistContext.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{nU:()=>useWishlist});__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");var _clearWishlist,_removeFromWishlist,_addToWishlist,_Users_koheimori_Downloads_messy_projects_20250310_playground_claude_dev_ec_app_ec_client_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),_Users_koheimori_Downloads_messy_projects_20250310_playground_claude_dev_ec_app_ec_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),WishlistContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({items:[],isLoading:!1,error:null,addToWishlist:(_addToWishlist=(0,_Users_koheimori_Downloads_messy_projects_20250310_playground_claude_dev_ec_app_ec_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.A)((0,_Users_koheimori_Downloads_messy_projects_20250310_playground_claude_dev_ec_app_ec_client_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.A)().mark((function _callee(){return(0,_Users_koheimori_Downloads_messy_projects_20250310_playground_claude_dev_ec_app_ec_client_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.A)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:case"end":return _context.stop()}}),_callee)}))),function addToWishlist(){return _addToWishlist.apply(this,arguments)}),removeFromWishlist:(_removeFromWishlist=(0,_Users_koheimori_Downloads_messy_projects_20250310_playground_claude_dev_ec_app_ec_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.A)((0,_Users_koheimori_Downloads_messy_projects_20250310_playground_claude_dev_ec_app_ec_client_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.A)().mark((function _callee2(){return(0,_Users_koheimori_Downloads_messy_projects_20250310_playground_claude_dev_ec_app_ec_client_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.A)().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:case"end":return _context2.stop()}}),_callee2)}))),function removeFromWishlist(){return _removeFromWishlist.apply(this,arguments)}),isInWishlist:function isInWishlist(){return!1},clearWishlist:(_clearWishlist=(0,_Users_koheimori_Downloads_messy_projects_20250310_playground_claude_dev_ec_app_ec_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.A)((0,_Users_koheimori_Downloads_messy_projects_20250310_playground_claude_dev_ec_app_ec_client_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.A)().mark((function _callee3(){return(0,_Users_koheimori_Downloads_messy_projects_20250310_playground_claude_dev_ec_app_ec_client_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.A)().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:case"end":return _context3.stop()}}),_callee3)}))),function clearWishlist(){return _clearWishlist.apply(this,arguments)})}),useWishlist=function useWishlist(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(WishlistContext)}}}]);